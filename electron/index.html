<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸš© Antifa Free Music Share</title>
  <link rel="stylesheet" href="styles.css">
  
  <!-- Capacitor Core (for Android) -->
  <script type="module">
    // Load Capacitor only on Android/Capacitor environment
    if (window.Capacitor) {
      import('https://cdn.jsdelivr.net/npm/@capacitor/core@latest/dist/index.js').then(module => {
        window.Capacitor = module.Capacitor;
      });
      import('https://cdn.jsdelivr.net/npm/@capacitor/filesystem@latest/dist/index.js').then(module => {
        window.Filesystem = module.Filesystem;
        window.Directory = module.Directory;
      });
      import('https://cdn.jsdelivr.net/npm/@capacitor/app@latest/dist/index.js').then(module => {
        window.App = module.App;
      });
    }
  </script>
</head>
<body>
  <div class="container">
    <!-- Language Selector -->
    <div class="language-selector">
      <label for="language-select" data-i18n="languageLabel">ğŸŒ Idioma / Language:</label>
      <select id="language-select" class="language-dropdown">
        <option value="es" selected>ğŸ‡²ğŸ‡½ EspaÃ±ol</option>
        <option value="en">ğŸ´ English</option>
        <option value="pt">ğŸ‡§ğŸ‡· PortuguÃªs</option>
      </select>
    </div>

    <!-- Header -->
    <div class="header">
      <pre class="ascii-art">
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                           â•‘
â•‘      ğŸš© ANTIFA FREE MUSIC SHARE ğŸš©                       â•‘
â•‘                                                           â•‘
â•‘      <span data-i18n="subtitle">"Libera el Arte de las Cadenas Capitalistas"</span>        â•‘
â•‘                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      </pre>
    </div>

    <!-- Liberation Message -->
    <div class="liberation-message">
      <div class="message-box">
        <h2 data-i18n="liberationTitle">âœŠ MÃšSICA LIBRE PARA GENTE LIBRE</h2>
        <p data-i18n="liberationText">Esta herramienta existe para liberar la mÃºsica de monopolios capitalistas que explotan artistas y financian opresiÃ³n.</p>
        
        <div class="warning-section">
          <h3 data-i18n="warningTitle">ğŸš« Spotify, Apple Music y otras plataformas:</h3>
          <ul id="warning-list">
            <li>Pagan a artistas $0.003-0.005 por reproducciÃ³n</li>
            <li>Financian ocupaciÃ³n sionista y genocidio</li>
            <li>Controlan y censuran voces independientes</li>
          </ul>
        </div>

        <div class="use-section">
          <h3 data-i18n="useTitle">âœ… USA ESTA HERRAMIENTA PARA:</h3>
          <ul id="use-list">
            <li>Construir tu colecciÃ³n personal</li>
            <li>Apoyar artistas a travÃ©s de canales directos</li>
            <li>Compartir mÃºsica en tus comunidades</li>
            <li>Descubrir artistas underground e independientes</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Main Actions -->
    <div class="main-content">
      <div class="tabs">
        <button class="tab active" data-tab="search" data-i18n="tabSearch">ğŸ” Buscar y Descargar</button>
        <button class="tab" data-tab="playlist" data-i18n="tabPlaylist">ğŸ“‹ Descargar Playlist</button>
        <button class="tab" data-tab="metadata" data-i18n="tabMetadata">ğŸ·ï¸ Actualizar Metadata</button>
        <button class="tab" data-tab="coverart" data-i18n="tabCoverArt">ğŸ–¼ï¸ Agregar Portadas</button>
        <button class="tab" data-tab="lyrics" data-i18n="tabLyrics">ğŸ“ Agregar Letras</button>
      </div>

      <!-- Search Tab -->
      <div class="tab-content active" id="search-tab">
        <div class="input-group">
          <label for="search-input" data-i18n="searchLabel">ğŸµ Buscar canciÃ³n o artista:</label>
          <input type="text" id="search-input" data-i18n="searchPlaceholder" placeholder="Ej: London After Midnight - Are You Feeling Fascist" />
          <button class="btn btn-primary" id="search-btn" data-i18n="searchButton">Buscar</button>
        </div>

        <div id="search-results" class="results-container"></div>
      </div>

      <!-- Playlist Tab -->
      <div class="tab-content" id="playlist-tab">
        <div class="input-group">
          <label for="playlist-input" data-i18n="playlistLabel">ğŸ”— URL de la playlist:</label>
          <input type="text" id="playlist-input" data-i18n="playlistPlaceholder" placeholder="https://music.youtube.com/playlist?list=..." />
          <button class="btn btn-primary" id="playlist-btn" data-i18n="playlistButton">Descargar Playlist</button>
        </div>
      </div>

      <!-- Metadata Tab -->
      <div class="tab-content" id="metadata-tab">
        <div class="input-group">
          <label for="metadata-folder" data-i18n="metadataLabel">ğŸ“ Selecciona carpeta con archivos MP3:</label>
          <div class="file-input-wrapper">
            <input type="text" id="metadata-folder" readonly data-i18n="downloadPlaceholder" placeholder="Selecciona una carpeta..." />
            <button class="btn btn-secondary" id="select-metadata-btn" data-i18n="selectButton">Seleccionar</button>
          </div>
          <button class="btn btn-primary" id="update-metadata-btn" data-i18n="metadataButton">Actualizar Metadata</button>
        </div>
        <div class="info-box">
          <p>â„¹ï¸ Esta funciÃ³n actualizarÃ¡ automÃ¡ticamente las etiquetas ID3 de tus archivos MP3 usando MusicBrainz.</p>
        </div>
      </div>

      <!-- Cover Art Tab -->
      <div class="tab-content" id="coverart-tab">
        <div class="input-group">
          <label for="coverart-folder" data-i18n="coverLabel">ğŸ“ Selecciona carpeta con archivos MP3:</label>
          <div class="file-input-wrapper">
            <input type="text" id="coverart-folder" readonly data-i18n="downloadPlaceholder" placeholder="Selecciona una carpeta..." />
            <button class="btn btn-secondary" id="select-coverart-btn" data-i18n="selectButton">Seleccionar</button>
          </div>
          <button class="btn btn-primary" id="add-coverart-btn" data-i18n="coverButton">Agregar Portadas</button>
        </div>
        <div class="info-box">
          <p>â„¹ï¸ Esta funciÃ³n buscarÃ¡ y agregarÃ¡ automÃ¡ticamente portadas de Ã¡lbum a tus archivos MP3.</p>
        </div>
      </div>

      <!-- Lyrics Tab -->
      <div class="tab-content" id="lyrics-tab">
        <div class="input-group">
          <label for="lyrics-folder" data-i18n="lyricsLabel">ğŸ“ Selecciona carpeta con archivos MP3:</label>
          <div class="file-input-wrapper">
            <input type="text" id="lyrics-folder" readonly data-i18n="downloadPlaceholder" placeholder="Selecciona una carpeta..." />
            <button class="btn btn-secondary" id="select-lyrics-btn" data-i18n="selectButton">Seleccionar</button>
          </div>
          <button class="btn btn-primary" id="add-lyrics-btn" data-i18n="lyricsButton">Agregar Letras</button>
        </div>
        <div class="info-box">
          <p>â„¹ï¸ Esta funciÃ³n buscarÃ¡ y agregarÃ¡ automÃ¡ticamente letras sincronizadas a tus archivos MP3.</p>
        </div>
      </div>

      <!-- Download Path (shared across tabs) -->
      <div class="download-path-section">
        <label for="download-path" data-i18n="downloadLabel">ğŸ“ Carpeta de descarga:</label>
        <div class="file-input-wrapper">
          <input type="text" id="download-path" readonly data-i18n="downloadPlaceholder" placeholder="Selecciona una carpeta..." />
          <button class="btn btn-secondary" id="select-path-btn" data-i18n="selectButton">Seleccionar</button>
        </div>
      </div>

      <!-- Progress Section -->
      <div id="progress-section" class="progress-section" style="display: none;">
        <div class="progress-header">
          <h3>ğŸ“Š Progreso</h3>
          <button class="btn btn-small" id="hide-progress-btn">âœ•</button>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill"></div>
          <span class="progress-text" id="progress-text">0%</span>
        </div>
        <p id="progress-message" data-i18n="progressMessage">Iniciando...</p>
      </div>
    </div>

    <!-- Reflexive Messages -->
    <div class="reflexive-message" id="reflexive-message">
      <p>ğŸŒ± "Las capacidades humanas florecen cuando la cultura es libre y accesible"</p>
    </div>

    <!-- Footer -->
    <footer>
      <p data-i18n="footerBuilt">âœŠ Creado colectivamente entre mÃºltiples colectivos del Sur Global</p>
      <p data-i18n="footerQuote">ğŸŒ± Invitamos a otros colectivos a compartir y colaborar | GPL-3.0</p>
      <p><a href="#" id="disclaimer-link" data-i18n="footerDisclaimer" style="color: var(--accent-cyan); text-decoration: none;">âš–ï¸ Ver TÃ©rminos y ExenciÃ³n de Responsabilidad</a></p>
    </footer>
  </div>

  <div id="toast" class="toast"></div>

  <!-- Modal Overlay for Progress -->
  <div id="progress-modal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modal-title">ğŸ“Š Procesando...</h2>
      </div>
      <div class="modal-body">
        <div class="progress-bar">
          <div class="progress-fill" id="modal-progress-fill"></div>
          <span class="progress-text" id="modal-progress-text">0%</span>
        </div>
        <p id="modal-message" class="modal-message">Iniciando...</p>
        <div id="modal-files-list" class="files-list"></div>
      </div>
    </div>
  </div>

  <script src="i18n.js"></script>
  <script src="youtube-search-client.js"></script>
  <script src="storage-manager.js"></script>
  <script src="download-manager.js"></script>
  <script src="renderer.js"></script>
</body>
</html>
